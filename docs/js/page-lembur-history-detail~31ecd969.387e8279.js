(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-lembur-history-detail~31ecd969"],{"03a0":function(t,a,e){var n=e("25bb"),i=e("d309");t.exports={distanceInWords:n(),format:i()}},"25bb":function(t,a){function e(){var t={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}};function a(a,e,n){var i;return n=n||{},i="string"===typeof t[a]?t[a]:1===e?t[a].one:t[a].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"dalam waktu "+i:i+" yang lalu":i}return{localize:a}}t.exports=e},"932b":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("button",{staticClass:"btn btn-sm btn-style1 font-bold text-uppercase underline text-white",staticStyle:{position:"absolute","z-index":"10"},attrs:{type:"button"},on:{click:function(a){return t.$router.go(-1)}}},[e("span",{staticClass:"text-xl typcn typcn-arrow-left text-white"}),t._v(" Kembali ")]),e("svg",{staticClass:"animated fadeInDown",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"}},[e("path",{attrs:{fill:"#0099ff","fill-opacity":"1",d:"M0,256L60,256C120,256,240,256,360,229.3C480,203,600,149,720,106.7C840,64,960,32,1080,69.3C1200,107,1320,213,1380,266.7L1440,320L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z"}})]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v("Detail Ijin")]),e("div",{staticClass:"card-body"},[e("tr",[e("td",[t._v("NIP")]),e("td",{staticClass:"pl-1 pr-1"},[t._v(" : ")]),e("td",[t._v(t._s(t.datanya.nip))])]),e("img",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"kinoLightBox img-fluid rounded-circle float-right",staticStyle:{"margin-top":"-10px",width:"40px",height:"40px"},attrs:{src:t.datanya.gambar}}),t._v(" Nama : "+t._s(t.datanya.nama)+" "),e("br"),t._v(" Unit Kerja : "+t._s(t.datanya.unit_kerja)+" "),e("tr",[e("td",[t._v("Tanggal Ijin")]),e("td",{staticClass:"pl-1 pr-1"},[t._v(" : ")]),e("td",[t._v(t._s(t.format(t.datanya.tanggal_ijin)))])]),e("tr",{directives:[{name:"show",rawName:"v-show",value:-1==t.datanya.lama_keluar.indexOf("undefined"),expression:"datanya.lama_keluar.indexOf('undefined') == -1"}]},[e("td",[t._v("Lama Keluar")]),e("td",{staticClass:"pl-1 pr-1"},[t._v(" : ")]),e("td",[t._v(t._s(t.datanya.lama_keluar))])]),e("tr",[e("td",[t._v("Ijin")]),e("td",{staticClass:"pl-1 pr-1"},[t._v(" : ")]),e("td",{staticClass:"font-bold"},[t._v(t._s(t.datanya.ijin))])]),e("tr",[e("td",[t._v("Keperluan")]),e("td",{staticClass:"pl-1 pr-1"},[t._v(" : ")]),e("td",[t._v(t._s(t.datanya.keperluan))])]),e("span",{staticClass:"text-sm float-right"},[t._v(t._s(t.distanceToNow(t.datanya.createAt))+" Yang lalu")]),e("br"),e("hr",{staticClass:"style13"}),e("div",{staticClass:"row"},[t.datanya.disposisi_head?e("div",{staticClass:"col-6 text-justify"},[e("p",{staticClass:"font-bold"},[t._v("Pimpinan")]),t._v(" Nip : "+t._s(t.datanya.nip2)),e("br"),t._v(" Nama : "+t._s(t.datanya.nama2)),e("br"),t._v(" disposisi : "+t._s(t.datanya.disposisi2)+" ")]):t._e(),t.datanya.bukti?e("div",{staticClass:"col-6"},["ios"!=t.ios?e("div",[t._v(" Photo Bukti : "),e("img",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"img-fluid img-thumbnail",attrs:{src:t.datanya.bukti,alt:""}})]):t._e()]):e("div",{staticClass:"col-6"},["ios"!=t.ios?e("div",[e("p",{staticClass:"p-2"},[t._v("Upload gambar :")]),e("input",{attrs:{type:"file"},on:{input:t.upload}})]):t._e()])]),e("br"),t.vdata.link.length>0?e("div",{staticClass:"sm-form"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.vdata.link,expression:"vdata.link"}],staticClass:"form-control md-textarea",attrs:{type:"text",id:"link",name:"link",rows:"2",placeholder:"link..."},domProps:{value:t.vdata.link},on:{input:function(a){a.target.composing||t.$set(t.vdata,"link",a.target.value)}}}),e("a",{attrs:{href:t.vdata.link}})]):t._e(),e("button",{staticClass:"btn btn-sm btn-style9 float-right",attrs:{type:"button"},on:{click:t.print}},[e("span",{staticClass:"typcn typcn-printer"}),t._v(" Print ")]),t.datanya.posisi?t._e():e("button",{staticClass:"btn btn-sm btn-style9",staticStyle:{background:"lightgreen"},attrs:{type:"button"},on:{click:t.balik}},[e("span",{staticClass:"typcn typcn-beaker"}),t._v(" Balik ")]),e("div",{staticClass:"text-center"})])])])},i=[],o=e("53ca"),s=e("1da1"),r=(e("0d03"),e("4795"),e("9911"),e("96cf"),e("bc3a")),u=e.n(r),l=e("8aa5"),d=e.n(l),c=e("4b97"),p=e("4627"),m=e("03a0"),h=d.a.firestore(),b=new c["a"],f={data:function(){return{datanya:{},ios:"",vdata:{disposisi1:"",link:""},ready:!1,units:[]}},methods:{upload:function(t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i,o,s,r,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a,i=t.target.files[0],o={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},e.prev=3,s=i,r=new FormData,e.next=8,Object(p["a"])(s,o);case 8:l=e.sent,r.append("file",l),r.append("data","select * from tbuser"),r.append("secret","dsdxxoi4#$(*#sdsaaada@#"),u.a.post("https://upload.egov.balangankab.go.id/upload1.php",r).then((function(t){n.$forceUpdate(),n.$nuxt.$emit("busy",!1),a.$forceUpdate(),n.$nuxt.$emit("busy",!1),b.collection("ijin_keluar").doc().set({id:n.$route.query.id,bukti:"https://upload.egov.balangankab.go.id"+t.data}).then((function(t){console.log(t),n.getData()}))})),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))()},balik:function(){var t=this;confirm("Apakah posisi sudah balik di kantor ?")&&b.collection("ijin_keluar").doc().set({id:this.$route.query.id,posisi:!0,jam_balik:new Date}).then((function(a){console.log(a),t.getData()}))},hapus:function(){confirm("Apakah yakin ingin menghapus data Ijin Keluar ini ?")&&b.collection("ijin_keluar").doc(this.$route.query.id)["delete"]().then((function(t){console.log(t)}))},getData:function(){var t=this,a=this;b.collection("ijin_keluar").doc().select("select *, NULL as password, NULL as password2,tb2.nama as nama, tb2.nip as nip,tb2.unit_kerja as unit_kerja,tb3.nip as nip2, tb3.nama as nama2, tb1.id as id from ijin_keluar tb1 left join tbuser tb2 on tb2.id=tb1.froms left join tbuser tb3 on tb3.id=tb1.tos where tb1.id='".concat(this.$route.query.id,"'")).then((function(e){console.log(e),t.datanya=e[0],console.log("hadang"),console.log("daranaya",e),setTimeout((function(){a.ready=!0}),3e3)}))},generateslink:function(){this.vdata.link="http://localhost:8082/lembur_generate?datanya=".concat(JSON.stringify(this.datanya)),navigator.clipboard.writeText(this.vdata.link).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(t){console.error("Async: Could not copy text: ",t)}))},print:function(){this.$router.push("/lembur/history/laporan?id=".concat(this.$route.query.id))},batal:function(){var t=this;if(confirm("yakin membatalkan Ijin Keluar?")){var a=prompt("Alasan dibatalkan ? ","-");console.log(t.datanya.from),this.$store.dispatch("notifikasi",{title:"Permintaan Ijin Keluar dibatalkan",body:a,link:"/lembur",from:this.$store.state.users,uid:t.datanya.from.uid,to:t.datanya.from}),h.collection("users").doc(this.datanya.from.uid).collection("lembur").doc(this.$route.query.id)["delete"]().then((function(a){t.$router.push("/lembur")}))}},distanceToNow:function(t){return this.$datefns.distanceInWordsToNow(new Date(t),{locale:m,includeSeconds:!0})},format:function(t){return this.$datefns.format(new Date(t),"DD MMMM YYYY",{locale:m})}},mounted:function(){var t=this;"object"==("undefined"===typeof cordova?"undefined":Object(o["a"])(cordova))&&document.addEventListener("deviceready",(function(){t.ios=window.cordova.platformId}),!1),this.getData()},layout:"lembur"},v=f,g=e("2877"),k=Object(g["a"])(v,n,i,!1,null,null,null);a["default"]=k.exports},d309:function(t,a,e){var n=e("90e5");function i(){var t=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],a=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],e=["Mi","Sn","Sl","Ra","Ka","Ju","Sa"],i=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],s=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],r=["AM","PM"],u=["am","pm"],l=["a.m.","p.m."],d={MMM:function(a){return t[a.getMonth()]},MMMM:function(t){return a[t.getMonth()]},dd:function(t){return e[t.getDay()]},ddd:function(t){return i[t.getDay()]},dddd:function(t){return s[t.getDay()]},A:function(t){return t.getHours()/12>=1?r[1]:r[0]},a:function(t){return t.getHours()/12>=1?u[1]:u[0]},aa:function(t){return t.getHours()/12>=1?l[1]:l[0]}},c=["M","D","DDD","d","Q","W"];return c.forEach((function(t){d[t+"o"]=function(a,e){return o(e[t](a))}})),{formatters:d,formattingTokensRegExp:n(d)}}function o(t){switch(t){case 1:return"pertama";case 2:return"kedua";case 3:return"ketiga";default:return"ke-"+t}}t.exports=i}}]);
//# sourceMappingURL=page-lembur-history-detail~31ecd969.387e8279.js.map