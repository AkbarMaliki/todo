{"version":3,"sources":["webpack:///./src/pages/test/index.vue?c69d","webpack:///src/pages/test/index.vue","webpack:///./src/pages/test/index.vue?fbea","webpack:///./src/pages/test/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","accessToken","mapStyle","on","$event","onMapLoaded","geoJsonSource","data","id","geoJsonLayer","pointGPS","_v","pointTempat","staticRenderFns","components","MglMap","MglPopup","MglNavigationControl","MglGeolocateControl","MglGeojsonLayer","MglMarker","radius","type","geometry","coordinates","source","layout","paint","methods","cekPosisi","arePointsNear","checkPoint","centerPoint","km","ky","kx","Math","cos","dx","abs","lng","dy","lat","sqrt","point","n","console","log","drawCircle","center","options","steps","units","properties","circle","turf","mounted","setTimeout","document","querySelector","innerHTML","component"],"mappings":"mIAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,SAAS,CAACF,EAAG,SAAS,CAACG,YAAY,CAAC,OAAS,SAASD,MAAM,CAAC,YAAcN,EAAIQ,YAAY,SAAWR,EAAIS,UAAUC,GAAG,CAAC,kBAAkB,SAASC,GAAQX,EAAIS,SAASE,GAAQ,mBAAmB,SAASA,GAAQX,EAAIS,SAASE,GAAQ,KAAOX,EAAIY,cAAc,CAACR,EAAG,kBAAkB,CAACE,MAAM,CAAC,SAAWN,EAAIa,cAAcC,KAAKC,GAAG,OAASf,EAAIa,cAAc,QAAU,qBAAqB,MAAQb,EAAIgB,gBAAgBZ,EAAG,uBAAuB,CAACE,MAAM,CAAC,SAAW,eAAeF,EAAG,sBAAsB,CAACE,MAAM,CAAC,SAAW,eAAeF,EAAG,YAAY,CAACE,MAAM,CAAC,YAAcN,EAAIiB,WAAW,CAACb,EAAG,WAAW,CAACA,EAAG,MAAM,CAACJ,EAAIkB,GAAG,YAAY,GAAGd,EAAG,YAAY,CAACE,MAAM,CAAC,YAAcN,EAAImB,cAAc,CAACf,EAAG,WAAW,CAACA,EAAG,MAAM,CAACJ,EAAIkB,GAAG,eAAe,IAAI,IAAI,IACv1BE,EAAkB,G,kEC6CtB,GACEC,WAAY,CACVC,OAAJ,OACIC,SAAJ,OACIC,qBAAJ,OACIC,oBAAJ,OACIC,gBAAJ,OACIC,UAAJ,QAEEb,KATF,WAUI,MAAO,CACLK,YAAa,CAAC,oBAAqB,oBACnCF,SAAU,CAAC,oBAAqB,oBAChCW,OAAQ,GACRpB,YACN,4FACMC,SAAU,qCACVI,cAAe,CACbgB,KAAM,UACNf,KAAM,CACJC,GAAI,iBACJc,KAAM,UACNC,SAAU,CACRD,KAAM,UACNE,YAAa,MAInBf,aAAc,CACZa,KAAM,OACNG,OAAQ,iBACRC,OAAQ,GACRC,MAAO,CACL,aAAc,UACd,eAAgB,OAKxBC,QAAS,CACP,YADJ,SACA,0KACA,eACA,8BACA,kBAEA,sBALA,SAMA,SACA,qBACA,QACA,UATA,OAMA,EANA,OAWA,eAXA,8CAaIC,UAdJ,SAcA,OACM,SAASC,EAAcC,EAAYC,EAAaC,GAC9C,IAAIC,EAAK,IAAQ,IACbC,EAAKC,KAAKC,IAAI,KAA1B,gBACYC,EAAKF,KAAKG,IAAIP,EAAYQ,IAAMT,EAAWS,KAAOL,EAClDM,EAAKL,KAAKG,IAAIP,EAAYU,IAAMX,EAAWW,KAAOR,EACtD,OAAOE,KAAKO,KAAKL,EAAKA,EAAKG,EAAKA,IAAOR,EAEzC,IAAIW,EAAQ,CAAlB,mBAEUC,GADAb,EAAc,CAAxB,mBACcF,EAAcc,EAAOZ,EAAatC,KAAK2B,SAC/CyB,QAAQC,IAAI,6BAAlB,IAEIC,WA3BJ,WA4BM,IAAIC,EAASvD,KAAKkB,YACdS,EAAS3B,KAAK2B,OACd6B,EAAU,CACZC,MAAO,GACPC,MAAO,aACPC,WAAY,CAApB,YAEUC,EAASC,KAAKD,OAAOL,EAAQ5B,EAAQ6B,GACzCxD,KAAKY,cAAcC,KAAKgB,SAASC,YACvC,uBACM9B,KAAKmC,UAAUnC,KAAKgB,SAAUhB,KAAKkB,eAGvC4C,QAhFF,WAiFI9D,KAAKsD,aACLS,YAAW,WACTC,SAASC,cAAc,qCAAqCC,UAClE,IACMF,SAASC,cAAc,sCAAsCC,UACnE,IACMF,SAASC,cAAc,uCAAuCC,UACpE,MACA,OCvI8V,I,YCO1VC,EAAY,eACd,EACArE,EACAqB,GACA,EACA,KACA,KACA,MAIa,aAAAgD,E","file":"js/page-test-index~f3fc50c7.4c0bfb73.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"#app\"}},[_c('MglMap',{staticStyle:{\"height\":\"600px\"},attrs:{\"accessToken\":_vm.accessToken,\"mapStyle\":_vm.mapStyle},on:{\"update:mapStyle\":function($event){_vm.mapStyle=$event},\"update:map-style\":function($event){_vm.mapStyle=$event},\"load\":_vm.onMapLoaded}},[_c('MglGeojsonLayer',{attrs:{\"sourceId\":_vm.geoJsonSource.data.id,\"source\":_vm.geoJsonSource,\"layerId\":\"somethingSomething\",\"layer\":_vm.geoJsonLayer}}),_c('MglNavigationControl',{attrs:{\"position\":\"top-right\"}}),_c('MglGeolocateControl',{attrs:{\"position\":\"top-right\"}}),_c('MglMarker',{attrs:{\"coordinates\":_vm.pointGPS}},[_c('MglPopup',[_c('div',[_vm._v(\"GPS\")])])],1),_c('MglMarker',{attrs:{\"coordinates\":_vm.pointTempat}},[_c('MglPopup',[_c('div',[_vm._v(\"Lokasi\")])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"#app\">\r\n    <MglMap\r\n      :accessToken=\"accessToken\"\r\n      :mapStyle.sync=\"mapStyle\"\r\n      @load=\"onMapLoaded\"\r\n      style=\"height: 600px\"\r\n    >\r\n      <!-- GEO JSON LAYER -->\r\n      <MglGeojsonLayer\r\n        :sourceId=\"geoJsonSource.data.id\"\r\n        :source=\"geoJsonSource\"\r\n        layerId=\"somethingSomething\"\r\n        :layer=\"geoJsonLayer\"\r\n      />\r\n      <!-- NAVIGATION -->\r\n      <MglNavigationControl position=\"top-right\" />\r\n      <MglGeolocateControl position=\"top-right\" />\r\n      <!-- MARKER POP UP -->\r\n\r\n      <MglMarker :coordinates=\"pointGPS\">\r\n        <MglPopup>\r\n          <div>GPS</div>\r\n        </MglPopup>\r\n      </MglMarker>\r\n      <MglMarker :coordinates=\"pointTempat\">\r\n        <MglPopup>\r\n          <div>Lokasi</div>\r\n        </MglPopup>\r\n      </MglMarker>\r\n    </MglMap>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Mapbox from \"mapbox-gl\";\r\n// import turf from \"@turf/turf\";\r\nimport {\r\n  MglMap,\r\n  MglNavigationControl,\r\n  MglGeolocateControl,\r\n  MglGeojsonLayer,\r\n  MglPopup,\r\n  MglMarker,\r\n} from \"vue-mapbox\";\r\n\r\nexport default {\r\n  components: {\r\n    MglMap,\r\n    MglPopup,\r\n    MglNavigationControl,\r\n    MglGeolocateControl,\r\n    MglGeojsonLayer,\r\n    MglMarker,\r\n  },\r\n  data() {\r\n    return {\r\n      pointTempat: [115.46969742626823, -2.3614227630765185],\r\n      pointGPS: [115.46969742626823, -2.3654827630765185],\r\n      radius: 0.5, // dalam kilometer\r\n      accessToken:\r\n        \"pk.eyJ1IjoicnVkeXNrYSIsImEiOiJja3B1cGY0OGwxOTlxMm5xdnJ6dTU3dXZiIn0.vqqfQlT3-d3KF9KNzemANg\",\r\n      mapStyle: \"mapbox://styles/mapbox/streets-v11\",\r\n      geoJsonSource: {\r\n        type: \"geojson\",\r\n        data: {\r\n          id: \"thisIsMySource\",\r\n          type: \"Feature\",\r\n          geometry: {\r\n            type: \"Polygon\",\r\n            coordinates: [],\r\n          },\r\n        },\r\n      },\r\n      geoJsonLayer: {\r\n        type: \"fill\",\r\n        source: \"thisIsMySource\", // reference the data source\r\n        layout: {},\r\n        paint: {\r\n          \"fill-color\": \"#0080ff\", // blue color fill\r\n          \"fill-opacity\": 0.5,\r\n        },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async onMapLoaded(event) {\r\n      console.log(event);\r\n      event.map.on(\"click\", function (e) {\r\n        console.log(e);\r\n      });\r\n      const asyncActions = event.component.actions;\r\n      const newParams = await asyncActions.flyTo({\r\n        center: this.pointTempat,\r\n        zoom: 15,\r\n        speed: 1,\r\n      });\r\n      console.log(newParams);\r\n    },\r\n    cekPosisi(checkPoint, centerPoint, km) {\r\n      function arePointsNear(checkPoint, centerPoint, km) {\r\n        var ky = 40000 / 360;\r\n        var kx = Math.cos((Math.PI * centerPoint.lat) / 180.0) * ky;\r\n        var dx = Math.abs(centerPoint.lng - checkPoint.lng) * kx;\r\n        var dy = Math.abs(centerPoint.lat - checkPoint.lat) * ky;\r\n        return Math.sqrt(dx * dx + dy * dy) <= km;\r\n      }\r\n      var point = { lat: checkPoint[1], lng: checkPoint[0] };\r\n      var centerPoint = { lat: centerPoint[1], lng: centerPoint[0] };\r\n      var n = arePointsNear(point, centerPoint, this.radius);\r\n      console.log(\"apakah di dalam lingkaran \",n);\r\n    },\r\n    drawCircle() {\r\n      var center = this.pointTempat;\r\n      var radius = this.radius; // per kilometer\r\n      var options = {\r\n        steps: 50,\r\n        units: \"kilometers\",\r\n        properties: { foo: \"bar\" },\r\n      };\r\n      var circle = turf.circle(center, radius, options);\r\n      this.geoJsonSource.data.geometry.coordinates =\r\n        circle.geometry.coordinates;\r\n      this.cekPosisi(this.pointGPS, this.pointTempat);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.drawCircle();\r\n    setTimeout(() => {\r\n      document.querySelector(\"button.mapboxgl-ctrl-zoom-in>span\").innerHTML =\r\n        \"+\";\r\n      document.querySelector(\"button.mapboxgl-ctrl-zoom-out>span\").innerHTML =\r\n        \"-\";\r\n      document.querySelector(\"button.mapboxgl-ctrl-geolocate>span\").innerHTML =\r\n        \"o\";\r\n    }, 3000);\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=fabd2a24&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}